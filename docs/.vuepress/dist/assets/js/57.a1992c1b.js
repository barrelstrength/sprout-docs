(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{515:function(t,e,a){"use strict";a.r(e);var s=a(34),n=Object(s.a)({},(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",[t._v("Craft 3")]),t._v(" "),a("p",[t._v("Sprout Email installation and update instructions for Craft 3.")]),t._v(" "),a("h2",{attrs:{id:"requirements"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#requirements"}},[t._v("#")]),t._v(" Requirements")]),t._v(" "),a("ul",[a("li",[t._v("Craft CMS 3.0.0 or a more recent version of Craft")])]),t._v(" "),a("h2",{attrs:{id:"installation-via-plugin-store"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation-via-plugin-store"}},[t._v("#")]),t._v(" Installation via Plugin Store")]),t._v(" "),a("ol",[a("li",[t._v("Find the plugin in the Plugin Store in your Craft Control Panel")]),t._v(" "),a("li",[t._v("Go to "),a("em",[t._v("Settings → Plugins")]),t._v(" and select “Install”")])]),t._v(" "),a("h2",{attrs:{id:"installation-via-composer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#installation-via-composer"}},[t._v("#")]),t._v(" Installation via Composer")]),t._v(" "),a("div",{pre:!0},[a("ol",[a("li",[t._v("Open your terminal and go to your Craft project:"),a("br"),a("code",[t._v("cd /path/to/project")])]),t._v(" "),a("li",[t._v("Then tell Composer to load the plugin:"),a("br"),a("code",[t._v("composer require barrelstrength/sprout-email")])]),t._v(" "),a("li",[t._v("In the Control Panel, go to "),a("em",[t._v("Settings → Plugins")]),t._v(" and select “Install”")])])]),a("h2",{attrs:{id:"upgrading-to-craft-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#upgrading-to-craft-3"}},[t._v("#")]),t._v(" Upgrading to Craft 3")]),t._v(" "),a("div",{staticClass:"custom-block warning"},[a("p",{staticClass:"custom-block-title"},[t._v("BEFORE YOU UPDATE")]),t._v(" "),a("p",[t._v("Make sure you have updated to the latest version of Sprout Email 3.x before updating to Sprout Email 4.x for Craft 3")])]),t._v(" "),a("h2",{attrs:{id:"upgrading-to-email-v4-1-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#upgrading-to-email-v4-1-1"}},[t._v("#")]),t._v(" Upgrading to Email v4.1.1")]),t._v(" "),a("p",[t._v("Sprout Email v4.1.1 updates the Recipients settings. The behavior you see when sending emails should not change, but the way you see this information presented to you in the user interface will.")]),t._v(" "),a("p",[t._v('Previously, the default send method was as a "List" and you had the option to toggle a lightswitch field to send a "Single Email". In 4.1.1 you will see a dropdown with the options "List" and "Single Email" and when you have the "List" setting selected you will no longer see the CC and BCC fields. Any email addresses you previously had in the CC and BCC fields when sending to emails as a List will now be appended to the values in the "To" field. The behavior of how the emails are sent is the same.')]),t._v(" "),a("h2",{attrs:{id:"upgrading-to-email-v4-2-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#upgrading-to-email-v4-2-0"}},[t._v("#")]),t._v(" Upgrading to Email v4.2.0")]),t._v(" "),a("p",[t._v("Sprout Email 4.2.0 is a recommended upgrade and fixes a vulnerability that could occur in some scenarios with custom Email Templates.")]),t._v(" "),a("div",{pre:!0},[a("p",[t._v("To better support extending Twig layouts and organizing your templates more flexibly throughout the top-level templates folder as you wish, "),a("RouterLink",{pre:!0,attrs:{to:"/email/custom-email-templates.html"}},[t._v("Email Templates Integrations")]),t._v(" have been updated to require a new "),a("code",[t._v("getTemplateRoot()")]),t._v(" method and change the behavior of the existing "),a("code",[t._v("getPath()")]),t._v(" method")],1)]),a("h4",[t._v("Personalized Email Templates")]),t._v(" "),a("p",[t._v("For improved security, Custom Email Templates no longer render objects in custom fields outside of the "),a("em",[t._v("Subject")]),t._v(" or "),a("em",[t._v("Default Body")]),t._v(" fields. Please let us know if you have additional use cases for this and we can consider them on a case by case basis.")]),t._v(" "),a("h4",[t._v("Custom Email Templates")]),t._v(" "),a("div",{pre:!0},[a("p",[t._v("Previously, the custom Email Templates setting identified an Email Folder and the only templates available were those templates within that folder. In the latest update, we now treat the "),a("code",[t._v("templates/")]),t._v(" folder as the root folder and your Email Template is just a folder somewhere within that.")])]),a("div",{pre:!0},[a("p",[t._v("If you happen to be using any "),a("code",[t._v("include")]),t._v(", "),a("code",[t._v("extends")]),t._v(", or "),a("code",[t._v("import")]),t._v(" tags in custom Email Templates, you may want to check if they are resolving correctly after the latest update.")])]),a("p",[t._v("For example, say you have this folder structure:")]),t._v(" "),a("div",{staticClass:"language-plaintext extra-class"},[a("pre",{pre:!0,attrs:{class:"language-plaintext"}},[a("code",[t._v("templates/_emails/newsletter/_layout.twig\ntemplates/_emails/newsletter/email.twig\n")])])]),a("div",{pre:!0},[a("p",[t._v("If you previously had an email in a "),a("code",[t._v("templates/_emails/newsletter")]),t._v(" folder that extended a layout within that folder you would treat the email folder as the root. However, after the recent updates the templates folder is treated as the root so you'd need to extend the file as it exists within the template folder.")])]),a("div",{staticClass:"language-twig extra-class"},[a("pre",{pre:!0,attrs:{class:"language-twig"}},[a("code",[a("span",{pre:!0,attrs:{class:"token twig language-twig"}},[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("{# OLD #}")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token twig language-twig"}},[a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token tag-name keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("_layout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token twig language-twig"}},[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("{# NEW #}")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token twig language-twig"}},[a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token tag-name keyword"}},[t._v("extends")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("_emails/newsletter/_layout"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n")])])]),a("h4",[t._v("Email Templates Integrations")]),t._v(" "),a("h5",[t._v("OLD")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("getPath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("Craft")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAlias")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'@sproutbaseemail/templates/_components/emailtemplates/basic'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("h5",[t._v("NEW")]),t._v(" "),a("div",{staticClass:"language-php extra-class"},[a("pre",{pre:!0,attrs:{class:"language-php"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("getTemplateRoot")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name static-context"}},[t._v("Craft")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("::")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getAlias")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'@sproutbaseemail/templates'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("public")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-definition function"}},[t._v("getPath")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword return-type"}},[t._v("string")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string single-quoted-string"}},[t._v("'_components/emailtemplates/basic'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])}),[],!1,null,null,null);e.default=n.exports}}]);