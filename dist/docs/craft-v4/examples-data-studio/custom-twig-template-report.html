<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Twig Template Query - Sprout Plugins – Craft CMS</title>
    <meta name="description" content="The Twig Template Data Source allows you to create reports in the Craft Control Panel using Twig Templates in your craft/templates folder.">
    <meta name="generator" content="VitePress v1.0.0-rc.30">
    <link rel="preload stylesheet" href="/docs/craft-v4/assets/style.euqB-UEN.css" as="style">
    
    <script type="module" src="/docs/craft-v4/assets/app.mrLEYn-g.js"></script>
    <link rel="preload" href="/docs/craft-v4/assets/inter-roman-latin.bvIUbFQP.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/docs/craft-v4/assets/chunks/framework.lVUaoFIY.js">
    <link rel="modulepreload" href="/docs/craft-v4/assets/chunks/theme.uPmYY16z.js">
    <link rel="modulepreload" href="/docs/craft-v4/assets/examples-data-studio_custom-twig-template-report.md.5SCALT0M.lean.js">
    <link rel="icon" href="/docs/craft-v4/icons/favicon.ico">
    <link rel="icon" href="/docs/craft-v4/icons/favicon-16x16.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/docs/craft-v4/icons/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/docs/craft-v4/icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/docs/craft-v4/icons/favicon-16x16.png">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-5a346dfe><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0f60ec36></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-0f60ec36> Skip to content </a><!--]--><!----><header class="VPNav" data-v-5a346dfe data-v-ae24b3ad><div class="VPNavBar has-sidebar" data-v-ae24b3ad data-v-d83f3580><div class="container" data-v-d83f3580><div class="title" data-v-d83f3580><div class="VPNavBarTitle has-sidebar" data-v-d83f3580 data-v-86d1bed8><a class="title" href="/docs/craft-v4/" data-v-86d1bed8><!--[--><!--]--><!--[--><img class="VPImage logo" src="/docs/craft-v4/logo.svg" alt data-v-8426fc1a><!--]--><!--[-->Sprout<!--]--><!--[--><!--]--></a></div></div><div class="content" data-v-d83f3580><div class="curtain" data-v-d83f3580></div><div class="content-body" data-v-d83f3580><!--[--><!--]--><div class="VPNavBarSearch search" data-v-d83f3580><!--[--><!----><div id="docsearch"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg class="DocSearch-Search-Icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-d83f3580 data-v-7f418b0f><span id="main-nav-aria-label" class="visually-hidden" data-v-7f418b0f>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/docs/craft-v4/support/support.html" tabindex="0" data-v-7f418b0f data-v-42ef59de><!--[--><span data-v-42ef59de>Support</span><!--]--></a><!--]--><!--[--><div class="VPFlyout VPNavBarMenuGroup" data-v-7f418b0f data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" data-v-9c007e85><span class="text" data-v-9c007e85><!----><span data-v-9c007e85>Sprout v4</span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="text-icon" data-v-9c007e85><path d="M12,16c-0.3,0-0.5-0.1-0.7-0.3l-6-6c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l5.3,5.3l5.3-5.3c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-6,6C12.5,15.9,12.3,16,12,16z"></path></svg></span></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><div class="items" data-v-e7ea1737><!--[--><!--[--><div class="VPMenuGroup" data-v-e7ea1737 data-v-69e747b5><p class="title" data-v-69e747b5>Documentation</p><!--[--><!--[--><div class="VPMenuLink" data-v-69e747b5 data-v-43f1e123><a class="VPLink link vp-external-link-icon" href="https://sprout.barrelstrengthdesign.com/docs/craft-v5/" target="_blank" rel="noreferrer" data-v-43f1e123><!--[-->Sprout v5 (Craft 5)<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-69e747b5 data-v-43f1e123><a class="VPLink link" href="/docs/craft-v4/" data-v-43f1e123><!--[-->Sprout v4 (Craft 4)<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-69e747b5 data-v-43f1e123><a class="VPLink link vp-external-link-icon" href="https://sprout.barrelstrengthdesign.com/docs/craft-v3/" target="_blank" rel="noreferrer" data-v-43f1e123><!--[-->Sprout v3 (Craft 3)<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-69e747b5 data-v-43f1e123><a class="VPLink link vp-external-link-icon" href="https://sprout.barrelstrengthdesign.com/docs/craft-v2/" target="_blank" rel="noreferrer" data-v-43f1e123><!--[-->Sprout v2 (Craft 2)<!--]--></a></div><!--]--><!--]--></div><!--]--><!--[--><div class="VPMenuGroup" data-v-e7ea1737 data-v-69e747b5><p class="title" data-v-69e747b5>Plugin Store</p><!--[--><!--[--><div class="VPMenuLink" data-v-69e747b5 data-v-43f1e123><a class="VPLink link vp-external-link-icon" href="https://plugins.craftcms.com/developer/barrel-strength-design?craft5" target="_blank" rel="noreferrer" data-v-43f1e123><!--[-->Craft 5<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-69e747b5 data-v-43f1e123><a class="VPLink link vp-external-link-icon" href="https://plugins.craftcms.com/developer/barrel-strength-design?craft4" target="_blank" rel="noreferrer" data-v-43f1e123><!--[-->Craft 4<!--]--></a></div><!--]--><!--[--><div class="VPMenuLink" data-v-69e747b5 data-v-43f1e123><a class="VPLink link vp-external-link-icon" href="https://plugins.craftcms.com/developer/barrel-strength-design?craft3" target="_blank" rel="noreferrer" data-v-43f1e123><!--[-->Craft 3<!--]--></a></div><!--]--><!--]--></div><!--]--><!--]--></div><!--[--><!--]--></div></div></div><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-d83f3580 data-v-e6aabb21><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-e6aabb21 data-v-cbbe1149 data-v-b1685198><span class="check" data-v-b1685198><span class="icon" data-v-b1685198><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-cbbe1149><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-cbbe1149><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><div class="VPSocialLinks VPNavBarSocialLinks social-links" data-v-d83f3580 data-v-0394ad82 data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/barrelstrength/sprout" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div><div class="VPFlyout VPNavBarExtra extra" data-v-d83f3580 data-v-d0bd9dde data-v-9c007e85><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-9c007e85><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-9c007e85><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-9c007e85><div class="VPMenu" data-v-9c007e85 data-v-e7ea1737><!----><!--[--><!--[--><!----><div class="group" data-v-d0bd9dde><div class="item appearance" data-v-d0bd9dde><p class="label" data-v-d0bd9dde>Appearance</p><div class="appearance-action" data-v-d0bd9dde><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title="Switch to dark theme" aria-checked="false" data-v-d0bd9dde data-v-cbbe1149 data-v-b1685198><span class="check" data-v-b1685198><span class="icon" data-v-b1685198><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-cbbe1149><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-cbbe1149><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><div class="group" data-v-d0bd9dde><div class="item social-links" data-v-d0bd9dde><div class="VPSocialLinks social-links-list" data-v-d0bd9dde data-v-7bc22406><!--[--><a class="VPSocialLink no-icon" href="https://github.com/barrelstrength/sprout" aria-label="github" target="_blank" rel="noopener" data-v-7bc22406 data-v-f80f8133><svg role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a><!--]--></div></div></div><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-d83f3580 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><!----></header><div class="VPLocalNav reached-top" data-v-5a346dfe data-v-f84a0989><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-f84a0989><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-f84a0989><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-f84a0989>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-f84a0989 data-v-1c15a60a><button data-v-1c15a60a>Return to top</button><!----></div></div><aside class="VPSidebar" data-v-5a346dfe data-v-7f44e717><div class="curtain" data-v-7f44e717></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-7f44e717><span class="visually-hidden" id="sidebar-aria-label" data-v-7f44e717> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-7f44e717><section class="VPSidebarItem level-0" data-v-7f44e717 data-v-e31bd47b><!----><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/docs/craft-v4/data-studio.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>← Back to Data Studio</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-7f44e717><section class="VPSidebarItem level-0 has-active" data-v-7f44e717 data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>Custom Queries</h2><!----></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/docs/craft-v4/examples-data-studio/custom-twig-template-report.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Custom Twig Queries</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/docs/craft-v4/examples-data-studio/sql-queries.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Custom SQL Queries</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="group" data-v-7f44e717><section class="VPSidebarItem level-0" data-v-7f44e717 data-v-e31bd47b><div class="item" role="button" tabindex="0" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><h2 class="text" data-v-e31bd47b>Wrangling Data</h2><!----></div><div class="items" data-v-e31bd47b><!--[--><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/docs/craft-v4/examples-data-studio/large-data-sets.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Large Data Sets</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/docs/craft-v4/examples-data-studio/html-vs-csv.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>HTML vs CSV</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-e31bd47b data-v-e31bd47b><div class="item" data-v-e31bd47b><div class="indicator" data-v-e31bd47b></div><a class="VPLink link link" href="/docs/craft-v4/examples-data-studio/name-format.html" data-v-e31bd47b><!--[--><p class="text" data-v-e31bd47b>Name Format</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-5a346dfe data-v-669faec9><div class="VPDoc has-sidebar has-aside" data-v-669faec9 data-v-6b87e69f><!--[--><!--]--><div class="container" data-v-6b87e69f><div class="aside" data-v-6b87e69f><div class="aside-curtain" data-v-6b87e69f></div><div class="aside-container" data-v-6b87e69f><div class="aside-content" data-v-6b87e69f><div class="VPDocAside" data-v-6b87e69f data-v-3f215769><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" role="navigation" data-v-3f215769 data-v-d330b1bb><div class="content" data-v-d330b1bb><div class="outline-marker" data-v-d330b1bb></div><div class="outline-title" role="heading" aria-level="2" data-v-d330b1bb>On this page</div><nav aria-labelledby="doc-outline-aria-label" data-v-d330b1bb><span class="visually-hidden" id="doc-outline-aria-label" data-v-d330b1bb> Table of Contents for current page </span><ul class="root" data-v-d330b1bb data-v-d0ee3533><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-6b87e69f><div class="content-container" data-v-6b87e69f><!--[--><!--]--><!----><main class="main" data-v-6b87e69f><div style="position:relative;" class="vp-doc _docs_craft-v4_examples-data-studio_custom-twig-template-report" data-v-6b87e69f><div><h1 id="twig-template-query" tabindex="-1">Twig Template Query <a class="header-anchor" href="#twig-template-query" aria-label="Permalink to &quot;Twig Template Query&quot;">​</a></h1><p>The <strong>Twig Template</strong> Data Source allows you to create reports in the Craft Control Panel using Twig Templates in your <code>craft/templates</code> folder.</p><iframe src="https://player.vimeo.com/video/248062317" width="640" height="360" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe><p>Setting up a Custom Twig Template report requires a couple of steps.</p><ol><li>Create a new Custom Twig Template Report</li><li>Add your Template Settings</li><li>Customize your Report&#39;s <code>Results Template</code> and <code>Options Template</code> settings</li></ol><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>See the Sprout Reports in <code>vendor/barrelstrength/sprout/templates/examples/datasets</code> for commented example files of Twig Template Reports and Settings Templates. Copy those files to your <code>craft/template</code> folder and setup a Twig Template report to experiment with their usage or select them directly from a new Twig Template Query settings page by search for templates that begin with <code>_sprout/examples/datasets/*</code>.</p></div><h2 id="template-settings" tabindex="-1">Template Settings <a class="header-anchor" href="#template-settings" aria-label="Permalink to &quot;Template Settings&quot;">​</a></h2><p>To setup a Twig Template report you need to build a Results Template. Identifying your Results Template is the one required component of your Custom Twig Template report. The report template settings behave just like the Craft Sections &#39;Entry Template&#39; setting.</p><ul><li><strong>Results Template</strong> (required) - <code>_reports/reportname/results</code></li><li><strong>Settings Template</strong> - <code>_reports/reportname/settings</code></li></ul><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Sprout Reports will look for your templates in your front-end <code>craft/templates</code> folder so it&#39;s a good idea to use a hidden folder that can&#39;t be accessed directly from the web.</p></div><h2 id="results-template" tabindex="-1">Results Template <a class="header-anchor" href="#results-template" aria-label="Permalink to &quot;Results Template&quot;">​</a></h2><p>Your Results Template is where you will build your report. A report consists of any number of rows. Rows must each have an equal number of columns.</p><p>The Twig Template Report has three helper tags to use when building reports:</p><table><thead><tr><th style="text-align:left;">Tag</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>sprout.twigDataSet.addHeaderRow()</strong></td><td style="text-align:left;">Define the columns in the first row of your report</td></tr><tr><td style="text-align:left;"><strong>sprout.twigDataSet.addRow()</strong></td><td style="text-align:left;">Add a single row of data to your report</td></tr><tr><td style="text-align:left;"><strong>sprout.twigDataSet.addRows()</strong></td><td style="text-align:left;">Add an array of multiple rows of data to your report</td></tr></tbody></table><p>You can use <code>addHeaderRow</code> anywhere in your template to define the first row in your report that will be used as the column headers. The <code>addRow</code> and <code>addRows</code> actions add rows to your report in the order that they are used in your template.</p><p>The Twig Template Report also makes two variables available to your templates:</p><table><thead><tr><th style="text-align:left;">Variable</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>settings</strong></td><td style="text-align:left;">The values for all of your reports settings (e.g <code>settings.mySetting</code>)</td></tr><tr><td style="text-align:left;"><strong>isExport</strong></td><td style="text-align:left;">The <code>isExport</code> variable will be set to true when your report is being processed as an export. One use for this is if you&#39;d like to display a link in HTML in your report in the Control Panel, but want a text value when the report is exported.</td></tr></tbody></table><p>Here is a simple, hard-coded example of each tag in use for a two-column report:</p><h3 id="craft-templates-reports-reportname-results-html" tabindex="-1">craft/templates/_reports/reportname/results.html <a class="header-anchor" href="#craft-templates-reports-reportname-results-html" aria-label="Permalink to &quot;craft/templates/_reports/reportname/results.html&quot;">​</a></h3><div class="language-twig vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">twig</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">{# addHeaderRow accepts a single array with a comma-separated list of values #}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{% </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sprout.twigDataSet.addHeaderRow([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Region&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Trip Name&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]) %}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">{# addRow, also accepts a single array with a comma-separated list of values. The array is defined by the opening and closing square brackets. #}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{% </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sprout.twigDataSet.addRow([</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;Europe&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;Camino de Santiago&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]) %}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">{# addRows, accepts an array of arrays, where each array includes a comma-separated list of values. Note that there are two levels of opening and closing square brackets. #}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{% </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sprout.twigDataSet.addRows([</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;North America&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;John Muir Trail&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Asia&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Langtang Trek&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]) %}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="settings-template" tabindex="-1">Settings Template <a class="header-anchor" href="#settings-template" aria-label="Permalink to &quot;Settings Template&quot;">​</a></h2><p>If you want to give your user control over some Settings when they generate a Report, you can do so by defining an Settings Template.</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>Use the Form Macros supported by the Craft CP to keep consistent with the Craft UI. Sprout Reports will import the Craft CP Form Macros. Your Settings Template can look like this where the imported <code>forms</code> variable includes all Craft form macros defined in <code>craft/app/templates/_includes/forms.html</code>. :</p></div><h3 id="craft-templates-reports-reportname-settings-html" tabindex="-1">craft/templates/_reports/reportname/settings.html <a class="header-anchor" href="#craft-templates-reports-reportname-settings-html" aria-label="Permalink to &quot;craft/templates/_reports/reportname/settings.html&quot;">​</a></h3><div class="language-twig vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">twig</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">{# Number Setting #}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{{ forms.textField({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Limit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|t,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;limit&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    size: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    value: settings.quantity is </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">defined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ? settings.quantity : </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    first: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}) }}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">{# Pre-defined Dropdown #}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{{ forms.selectField({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Region&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|t,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;region&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    options: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;africa&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> : </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Africa&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;antartica&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> : </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Antartica&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;asia&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> : </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Asia&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;australia&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> : </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Australia&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;europe&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> : </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Europe&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;northAmerica&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> : </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;North America&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &quot;southAmerica&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> : </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;South America&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    value: settings.region is </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">defined</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ? settings.region : </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Antartica&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}) }}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">{# Dynamic Dropdown #}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{% </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> categoryGroup </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> craft.categories.group(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;exampleCategoryGroup&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">) %}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{% </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> categories </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [] %}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{% </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> category </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> categoryGroup %}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {% </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> categories </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> categories</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">|</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">merge</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        label: category.id,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        value: category.title</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }) %}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{% </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">endfor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> %}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{{ forms.selectField({</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    label: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;Example Category Element Dropdown Field&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">|t,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;exampleCategoryDropdownField&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    options: categories,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    value: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">1</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}) }}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><p>All Settings are available to you via the <code>settings</code> variable. Be sure to test if they exist. See an example Settings Template with several common fields in the Sprout Reports <code>examples/templates</code> folder.</p><ul><li>Text</li><li>Textarea</li><li>Dropdown</li><li>Radio Buttons</li><li>Checkboxes</li><li>Lightswitch</li><li>DateTime (requires that you start the field name with &quot;datetime&quot;, i.e. &#39;datetimeStartDate&#39;)</li></ul><p>Examples also include how to toggle the display of conditional fields and how to use DateTime fields which require some additional steps. Additional field types can be used, but some fields with advanced validation may require that you create a <a href="/docs/craft-v4/data-studio.html">Custom Data Source</a>. The only field Twig Template Reports support with advanced validation requirements is the DateTime field.</p><h2 id="using-settings-in-results" tabindex="-1">Using Settings in Results <a class="header-anchor" href="#using-settings-in-results" aria-label="Permalink to &quot;Using Settings in Results&quot;">​</a></h2><p>When a user runs a report, all Settings will be passed to the Results Template and can be used in your Settings Template Twig code to help query and display data how you wish:</p><h3 id="reports-reportname-results-html" tabindex="-1">reports/reportname/results.html <a class="header-anchor" href="#reports-reportname-results-html" aria-label="Permalink to &quot;reports/reportname/results.html&quot;">​</a></h3><p>In this example we use our settings to retrieve a CategoryModel and then use that CategoryModel to retrieve all Trips that relate to that Category. We limit the results by the number provided by the user in the Limit setting.</p><div class="language-twig vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">twig</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{% </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> region </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> craft.categories.group(settings.region) %}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{% </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">set</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> trips </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> craft.entries.section(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;trips&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">).relatedTo(region).limit(settings.limit) %}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">{# Create a Header Row #}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{% </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sprout.twigDataSet.addHeaderRow([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Region&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;Trip Name&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]) %}</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">{# Loop through our trips and output the Region and Trip Name for each result #}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{% </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">for</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> trip </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">in</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> trips %}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {% </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> sprout.twigDataSet.addRow([</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        trip.relatedCategory.first().title, </span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">        trip.title</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]) %}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{% </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">endfor</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> %}</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div></div></div></main><footer class="VPDocFooter" data-v-6b87e69f data-v-ef5dee53><!--[--><!--]--><div class="edit-info" data-v-ef5dee53><div class="edit-link" data-v-ef5dee53><a class="VPLink link vp-external-link-icon no-icon edit-link-button" href="https://github.com/barrelstrength/sprout-docs/edit/craft-v4/docs/examples-data-studio/custom-twig-template-report.md" target="_blank" rel="noreferrer" data-v-ef5dee53><!--[--><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="edit-link-icon" aria-label="edit icon" data-v-ef5dee53><path d="M18,23H4c-1.7,0-3-1.3-3-3V6c0-1.7,1.3-3,3-3h7c0.6,0,1,0.4,1,1s-0.4,1-1,1H4C3.4,5,3,5.4,3,6v14c0,0.6,0.4,1,1,1h14c0.6,0,1-0.4,1-1v-7c0-0.6,0.4-1,1-1s1,0.4,1,1v7C21,21.7,19.7,23,18,23z"></path><path d="M8,17c-0.3,0-0.5-0.1-0.7-0.3C7,16.5,6.9,16.1,7,15.8l1-4c0-0.2,0.1-0.3,0.3-0.5l9.5-9.5c1.2-1.2,3.2-1.2,4.4,0c1.2,1.2,1.2,3.2,0,4.4l-9.5,9.5c-0.1,0.1-0.3,0.2-0.5,0.3l-4,1C8.2,17,8.1,17,8,17zM9.9,12.5l-0.5,2.1l2.1-0.5l9.3-9.3c0.4-0.4,0.4-1.1,0-1.6c-0.4-0.4-1.2-0.4-1.6,0l0,0L9.9,12.5z M18.5,2.5L18.5,2.5L18.5,2.5z"></path></svg> Edit this page<!--]--></a></div><div class="last-updated" data-v-ef5dee53><p class="VPLastUpdated" data-v-ef5dee53 data-v-7e05ebdb>Last Updated: : <time datetime="2025-09-10T02:58:51.000Z" data-v-7e05ebdb></time></p></div></div><nav class="prev-next" data-v-ef5dee53><div class="pager" data-v-ef5dee53><a class="pager-link prev" href="/docs/craft-v4/data-studio.html" data-v-ef5dee53><span class="desc" data-v-ef5dee53>Previous page</span><span class="title" data-v-ef5dee53>← Back to Data Studio</span></a></div><div class="pager" data-v-ef5dee53><a class="pager-link next" href="/docs/craft-v4/examples-data-studio/sql-queries.html" data-v-ef5dee53><span class="desc" data-v-ef5dee53>Next page</span><span class="title" data-v-ef5dee53>Custom SQL Queries</span></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-5a346dfe data-v-e315a0ad><div class="container" data-v-e315a0ad><p class="message" data-v-e315a0ad>Craft The Planet</p><p class="copyright" data-v-e315a0ad>© Barrel Strength Design</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"configuration_twig-shortcut-syntax.md\":\"oFRCZ2r8\",\"sent-email.md\":\"MS5R0BmO\",\"redirects.md\":\"WiSng2me\",\"configuration_sprout-config.md\":\"wI8YSXvc\",\"examples-email_craft-globals.md\":\"ZmzJ47dk\",\"support_security.md\":\"8SVny-J6\",\"update-guides_sprout.md\":\"ZOebC4zn\",\"sitemaps.md\":\"fiQ8guqp\",\"meta.md\":\"AfTtR3P3\",\"examples-seo_block-robots-on-dev-site.md\":\"ZFUEEooi\",\"examples-data-studio_faq.md\":\"jJTUPZiQ\",\"data-studio.md\":\"ebDnNc0q\",\"examples-seo_faq.md\":\"0P3aQqGb\",\"examples-email_faq.md\":\"_uaQSz_i\",\"examples-email_welcome-notification.md\":\"cxUkncgS\",\"update-guides_index.md\":\"XYbw7SI5\",\"examples-data-studio_large-data-sets.md\":\"mZEyUBHp\",\"examples-seo_query-strings-in-redirects.md\":\"0kJkHbM9\",\"support_support.md\":\"yVB0wSom\",\"update-guides_forms.md\":\"BFSpEFpA\",\"examples-data-studio_name-format.md\":\"s_N4GWkd\",\"support_coding-guidelines.md\":\"ITLmfYdv\",\"support_pricing.md\":\"ZBTIBhB8\",\"transactional-email.md\":\"jWoNe0nA\",\"support_training.md\":\"m_wZKChE\",\"support_road-map.md\":\"3QmI-YcX\",\"support_contributing.md\":\"FQQ90bZ3\",\"examples-seo_template-metadata-overrides.md\":\"hEqIaV3Q\",\"update-guides_sitemaps.md\":\"OwZirKpa\",\"update-guides_seo.md\":\"Dz5aDtcs\",\"update-guides_data-studio.md\":\"Pilp79wC\",\"examples-data-studio_custom-twig-template-report.md\":\"5SCALT0M\",\"audiences.md\":\"nuaTd1q1\",\"update-guides_email.md\":\"8RhpDxpO\",\"examples-data-studio_html-vs-csv.md\":\"kFxcDJKC\",\"examples-seo_canonical-urls.md\":\"reomj9ew\",\"configuration_requirements.md\":\"_fdw_d0l\",\"examples-seo_redirect-workflows.md\":\"sj_nwaUT\",\"examples-data-studio_sql-queries.md\":\"o5mjjvGW\",\"examples-seo_element-metadata-field.md\":\"DYxysP56\",\"examples-seo_elements-without-urls.md\":\"g8-2YjVw\",\"email-types.md\":\"rbkKpVcw\",\"examples-seo_global-metadata-in-templates.md\":\"6AFnn-t9\",\"index.md\":\"8LtcbRhW\",\"update-guides_redirects.md\":\"9bOQoIl9\",\"features.md\":\"Q9YHIxLw\",\"mailers.md\":\"izHHPvtL\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"Sprout\",\"titleTemplate\":\":title - Sprout Plugins – Craft CMS\",\"description\":\"Build custom Craft CMS websites with Sprout Marketing Suite\",\"base\":\"/docs/craft-v4/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"logo\":\"/logo.svg\",\"nav\":[{\"text\":\"Support\",\"link\":\"/support/support\",\"activeMatch\":\"/support/\"},{\"text\":\"Sprout v4\",\"items\":[{\"text\":\"Documentation\",\"items\":[{\"text\":\"Sprout v5 (Craft 5)\",\"link\":\"https://sprout.barrelstrengthdesign.com/docs/craft-v5/\"},{\"text\":\"Sprout v4 (Craft 4)\",\"link\":\"/\"},{\"text\":\"Sprout v3 (Craft 3)\",\"link\":\"https://sprout.barrelstrengthdesign.com/docs/craft-v3/\"},{\"text\":\"Sprout v2 (Craft 2)\",\"link\":\"https://sprout.barrelstrengthdesign.com/docs/craft-v2/\"}]},{\"text\":\"Plugin Store\",\"items\":[{\"text\":\"Craft 5\",\"link\":\"https://plugins.craftcms.com/developer/barrel-strength-design?craft5\"},{\"text\":\"Craft 4\",\"link\":\"https://plugins.craftcms.com/developer/barrel-strength-design?craft4\"},{\"text\":\"Craft 3\",\"link\":\"https://plugins.craftcms.com/developer/barrel-strength-design?craft3\"}]}]}],\"sidebar\":{\"/\":[{\"text\":\"Overview\",\"items\":[{\"text\":\"About Sprout\",\"link\":\"/index\"},{\"text\":\"Lite vs Pro\",\"link\":\"/features\"}]},{\"text\":\"Configuration\",\"collapsed\":false,\"items\":[{\"text\":\"Update Guides\",\"link\":\"/update-guides/index\"},{\"text\":\"Requirements\",\"link\":\"/configuration/requirements\"},{\"text\":\"Config Settings\",\"link\":\"/configuration/sprout-config\"},{\"text\":\"Shortcut Syntax\",\"link\":\"/configuration/twig-shortcut-syntax\"}]},{\"text\":\"Data Management\",\"collapsed\":false,\"items\":[{\"text\":\"Data Studio\",\"link\":\"/data-studio\"},{\"text\":\"FAQ & Examples\",\"link\":\"/examples-data-studio/custom-twig-template-report\"}]},{\"text\":\"Email Marketing\",\"collapsed\":false,\"items\":[{\"text\":\"Transactional Email\",\"link\":\"/transactional-email\"},{\"text\":\"Email Types\",\"link\":\"/email-types\"},{\"text\":\"Mailer Settings\",\"link\":\"/mailers\"},{\"text\":\"Audiences\",\"link\":\"/audiences\"},{\"text\":\"Sent Email\",\"link\":\"/sent-email\"},{\"text\":\"FAQ & Examples\",\"link\":\"/examples-email/faq\"}]},{\"text\":\"SEO Metadata\",\"collapsed\":false,\"items\":[{\"text\":\"Meta Tags & Schema\",\"link\":\"/meta\"},{\"text\":\"Redirects\",\"link\":\"/redirects\"},{\"text\":\"Sitemaps\",\"link\":\"/sitemaps\"},{\"text\":\"FAQ & Examples\",\"link\":\"/examples-seo/faq\"}]}],\"/support/\":[{\"text\":\"Support & Training\",\"items\":[{\"text\":\"Support\",\"link\":\"/support/support\"},{\"text\":\"Training\",\"link\":\"/support/training\"}]},{\"text\":\"Policies\",\"items\":[{\"text\":\"Road Map\",\"link\":\"/support/road-map\"},{\"text\":\"Contributing\",\"link\":\"/support/contributing\"}]},{\"text\":\"Dreams of the Future\",\"items\":[{\"text\":\"Road Map\",\"link\":\"/support/road-map\"},{\"text\":\"Contributing\",\"link\":\"/support/contributing\"}]}],\"/update-guides/\":[{\"items\":[{\"text\":\"← All Sprout Modules\",\"link\":\"../\"}]},{\"text\":\"Update Guides\",\"items\":[{\"text\":\"Updating Sprout\",\"link\":\"/update-guides/index\"}]},{\"text\":\"Plugins\",\"items\":[{\"text\":\"Data Studio\",\"link\":\"/update-guides/data-studio\"},{\"text\":\"Forms\",\"link\":\"/update-guides/forms\"},{\"text\":\"Email\",\"link\":\"/update-guides/email\"},{\"text\":\"SEO\",\"link\":\"/update-guides/seo\"},{\"text\":\"Redirects\",\"link\":\"/update-guides/redirects\"},{\"text\":\"Sitemaps\",\"link\":\"/update-guides/sitemaps\"}]},{\"text\":\"All Plugins\",\"items\":[{\"text\":\"Craft 4\",\"link\":\"/update-guides/sprout\"}]}],\"/examples-data-studio/\":[{\"items\":[{\"text\":\"← Back to Data Studio\",\"link\":\"/data-studio\"}]},{\"text\":\"Custom Queries\",\"items\":[{\"text\":\"Custom Twig Queries\",\"link\":\"/examples-data-studio/custom-twig-template-report\"},{\"text\":\"Custom SQL Queries\",\"link\":\"/examples-data-studio/sql-queries\"}]},{\"text\":\"Wrangling Data\",\"items\":[{\"text\":\"Large Data Sets\",\"link\":\"/examples-data-studio/large-data-sets\"},{\"text\":\"HTML vs CSV\",\"link\":\"/examples-data-studio/html-vs-csv\"},{\"text\":\"Name Format\",\"link\":\"/examples-data-studio/name-format\"}]}],\"/examples-email/\":[{\"items\":[{\"text\":\"← Back to Email\",\"link\":\"/transactional-email\"}]},{\"text\":\"Examples\",\"items\":[{\"text\":\"Troubleshooting FAQ\",\"link\":\"/examples-email/faq\"},{\"text\":\"Craft Globals\",\"link\":\"/examples-email/craft-globals\"},{\"text\":\"Welcome Notification\",\"link\":\"/examples-email/welcome-notification\"}]}],\"/examples-seo/\":[{\"items\":[{\"text\":\"← Back to SEO\",\"link\":\"/meta\"}]},{\"text\":\"Metadata\",\"items\":[{\"text\":\"Troubleshooting FAQ\",\"link\":\"/examples-seo/faq\"},{\"text\":\"Global Metadata in Templates\",\"link\":\"/examples-seo/global-metadata-in-templates\"},{\"text\":\"Element Metadata Field\",\"link\":\"/examples-seo/element-metadata-field\"},{\"text\":\"Template Metadata Overrides\",\"link\":\"/examples-seo/template-metadata-overrides\"},{\"text\":\"Canonical URLs\",\"link\":\"/examples-seo/canonical-urls\"},{\"text\":\"Block Search Robots\",\"link\":\"/examples-seo/block-robots-on-dev-site\"},{\"text\":\"Elements Without URLs\",\"link\":\"/examples-seo/elements-without-urls\"}]},{\"text\":\"Redirects\",\"items\":[{\"text\":\"Craft Globals\",\"link\":\"/examples-seo/query-strings-in-redirects\"},{\"text\":\"Redirect Workflows\",\"link\":\"/examples-seo/redirect-workflows\"}]}]},\"socialLinks\":[{\"icon\":\"github\",\"link\":\"https://github.com/barrelstrength/sprout\"}],\"editLink\":{\"pattern\":\"https://github.com/barrelstrength/sprout-docs/edit/craft-v4/docs/:path\"},\"search\":{\"provider\":\"algolia\",\"options\":{\"appId\":\"5JN8FB8K6H\",\"apiKey\":\"dd083376e0d88465dfd6fe7f8c1ef13f\",\"indexName\":\"sprout_barrelstrengthdesign_v4\"}},\"footer\":{\"message\":\"Craft The Planet\",\"copyright\":\"© Barrel Strength Design\"},\"lastUpdated\":{\"text\":\"Last Updated: \"}},\"locales\":{},\"scrollOffset\":90,\"cleanUrls\":false}");</script>
    
  </body>
</html>