(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{504:function(t,a,s){"use strict";s.r(a);var e=s(34),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",[t._v("Twig Template Query")]),t._v(" "),s("div",{pre:!0},[s("p",[t._v("The "),s("strong",[t._v("Twig Template")]),t._v(" Data Source allows you to create reports in the Craft Control Panel using Twig Templates in your "),s("code",[t._v("craft/templates")]),t._v(" folder.")])]),s("iframe",{attrs:{src:"https://player.vimeo.com/video/248062317",width:"640",height:"360",frameborder:"0",webkitallowfullscreen:"",mozallowfullscreen:"",allowfullscreen:""}}),t._v(" "),s("p",[t._v("Setting up a Custom Twig Template report requires a couple of steps.")]),t._v(" "),s("div",{pre:!0},[s("ol",[s("li",[t._v("Create a new Custom Twig Template Report")]),t._v(" "),s("li",[t._v("Add your Template Settings")]),t._v(" "),s("li",[t._v("Customize your Report's "),s("code",[t._v("Results Template")]),t._v(" and "),s("code",[t._v("Options Template")]),t._v(" settings")])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("See the Sprout Reports "),s("code",[t._v("examples/templates")]),t._v(" folders for commented example files of Twig Template Reports and Settings Templates. Copy those files to your "),s("code",[t._v("craft/template")]),t._v(" folder and setup a Twig Template report to use them as described below.")])]),t._v(" "),s("h2",{attrs:{id:"template-settings"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#template-settings"}},[t._v("#")]),t._v(" Template Settings")]),t._v(" "),s("p",[t._v("To setup a Twig Template report you need to build a Results Template. Identifying your Results Template is the one required component of your Custom Twig Template report. The report template settings behave just like the Craft Sections 'Entry Template' setting.")]),t._v(" "),s("div",{pre:!0},[s("ul",[s("li",[s("strong",[t._v("Results Template")]),t._v(" (required) - "),s("code",[t._v("_reports/reportname/results")])]),t._v(" "),s("li",[s("strong",[t._v("Settings Template")]),t._v(" - "),s("code",[t._v("_reports/reportname/settings")])])])]),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("Sprout Reports will look for your templates in your front-end "),s("code",[t._v("craft/templates")]),t._v(" folder so it's a good idea to use a hidden folder that can't be accessed directly from the web.")])]),t._v(" "),s("h2",{attrs:{id:"results-template"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#results-template"}},[t._v("#")]),t._v(" Results Template")]),t._v(" "),s("p",[t._v("Your Results Template is where you will build your report. A report consists of any number of rows. Rows must each have an equal number of columns.")]),t._v(" "),s("p",[t._v("The Twig Template Report has three helper tags to use when building reports:")]),t._v(" "),s("div",{staticClass:"table"},[s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"left"}},[t._v("Tag")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("sprout.twigDataSet.addHeaderRow()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Define the columns in the first row of your report")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("sprout.twigDataSet.addRow()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Add a single row of data to your report")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"left"}},[s("strong",[t._v("sprout.twigDataSet.addRows()")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("Add an array of multiple rows of data to your report")])])])])]),t._v(" "),s("div",{pre:!0},[s("p",[t._v("You can use "),s("code",[t._v("addHeaderRow")]),t._v(" anywhere in your template to define the first row in your report that will be used as the column headers. The "),s("code",[t._v("addRow")]),t._v(" and "),s("code",[t._v("addRows")]),t._v(" actions add rows to your report in the order that they are used in your template.")])]),s("p",[t._v("The Twig Template Report also makes two variables available to your templates:")]),t._v(" "),s("div",{pre:!0},[s("div",{pre:!0,attrs:{class:"table"}},[s("table",[s("thead",[s("tr",[s("th",{pre:!0,attrs:{style:"text-align:left"}},[t._v("Variable")]),t._v(" "),s("th",{pre:!0,attrs:{style:"text-align:left"}},[t._v("Description")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{pre:!0,attrs:{style:"text-align:left"}},[s("strong",[t._v("settings")])]),t._v(" "),s("td",{pre:!0,attrs:{style:"text-align:left"}},[t._v("The values for all of your reports settings (e.g "),s("code",[t._v("settings.mySetting")]),t._v(")")])]),t._v(" "),s("tr",[s("td",{pre:!0,attrs:{style:"text-align:left"}},[s("strong",[t._v("isExport")])]),t._v(" "),s("td",{pre:!0,attrs:{style:"text-align:left"}},[t._v("The "),s("code",[t._v("isExport")]),t._v(" variable will be set to true when your report is being processed as an export. One use for this is if you'd like to display a link in HTML in your report in the Control Panel, but want a text value when the report is exported.")])])])])])]),s("p",[t._v("Here is a simple, hard-coded example of each tag in use for a two-column report:")]),t._v(" "),s("h3",{attrs:{id:"craft-templates-reports-reportname-results-html"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#craft-templates-reports-reportname-results-html"}},[t._v("#")]),t._v(" craft/templates/_reports/reportname/results.html")]),t._v(" "),s("div",{staticClass:"language-twig extra-class"},[s("pre",{pre:!0,attrs:{class:"language-twig"}},[s("code",[s("span",{pre:!0,attrs:{class:"token twig language-twig"}},[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("{# addHeaderRow accepts a single array with a comma-separated list of values #}")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token twig language-twig"}},[s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token tag-name keyword"}},[t._v("do")]),t._v(" sprout"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("twigDataSet"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("addHeaderRow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("Region"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("Trip Name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token twig language-twig"}},[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("{# addRow, also accepts a single array with a comma-separated list of values. The array is defined by the opening and closing square brackets. #}")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token twig language-twig"}},[s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token tag-name keyword"}},[t._v("do")]),t._v(" sprout"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("twigDataSet"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("addRow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("Europe"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n  "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("Camino de Santiago"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token twig language-twig"}},[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("{# addRows, accepts an array of arrays, where each array includes a comma-separated list of values. Note that there are two levels of opening and closing square brackets. #}")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token twig language-twig"}},[s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token tag-name keyword"}},[t._v("do")]),t._v(" sprout"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("twigDataSet"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("addRows"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("North America"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("John Muir Trail"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("Asia"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("Langtang Trek"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n")])])]),s("h2",{attrs:{id:"settings-template"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#settings-template"}},[t._v("#")]),t._v(" Settings Template")]),t._v(" "),s("p",[t._v("If you want to give your user control over some Settings when they generate a Report, you can do so by defining an Settings Template.")]),t._v(" "),s("div",{staticClass:"custom-block tip"},[s("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),s("p",[t._v("Use the Form Macros supported by the Craft CP to keep consistent with the Craft UI. Sprout Reports will import the Craft CP Form Macros. Your Settings Template can look like this where the imported "),s("code",[t._v("forms")]),t._v(" variable includes all Craft form macros defined in "),s("code",[t._v("craft/app/templates/_includes/forms.html")]),t._v(". :")])]),t._v(" "),s("h3",{attrs:{id:"craft-templates-reports-reportname-settings-html"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#craft-templates-reports-reportname-settings-html"}},[t._v("#")]),t._v(" craft/templates/_reports/reportname/settings.html")]),t._v(" "),s("div",{staticClass:"language-twig extra-class"},[s("pre",{pre:!0,attrs:{class:"language-twig"}},[s("code",[s("span",{pre:!0,attrs:{class:"token twig language-twig"}},[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("{# Number Setting #}")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token twig language-twig"}},[s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{{")]),t._v(" forms"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("textField"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    label"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Limit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("limit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    size"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("10")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" settings"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("quantity "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("is")]),t._v(" defined "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" settings"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("quantity "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    first"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("}}")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token twig language-twig"}},[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("{# Pre-defined Dropdown #}")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token twig language-twig"}},[s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{{")]),t._v(" forms"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("selectField"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    label"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Region"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("region"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("africa"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Africa"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("antartica"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Antartica"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("asia"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Asia"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("australia"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Australia"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("europe"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Europe"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("northAmerica"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("North America"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("southAmerica"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("South America"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" settings"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("region "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("is")]),t._v(" defined "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" settings"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("region "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Antartica"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("}}")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token twig language-twig"}},[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("{# Dynamic Dropdown #}")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token twig language-twig"}},[s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token tag-name keyword"}},[t._v("set")]),t._v(" categoryGroup "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" craft"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("categories"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("group"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("exampleCategoryGroup"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token twig language-twig"}},[s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token tag-name keyword"}},[t._v("set")]),t._v(" categories "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token twig language-twig"}},[s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token tag-name keyword"}},[t._v("for")]),t._v(" category "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("in")]),t._v(" categoryGroup "),s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token twig language-twig"}},[s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token tag-name keyword"}},[t._v("set")]),t._v(" categories "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" categories"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("merge"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        label"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" category"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("id"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" category"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token twig language-twig"}},[s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token tag-name keyword"}},[t._v("endfor")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token twig language-twig"}},[s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{{")]),t._v(" forms"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("selectField"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    label"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("Example Category Element Dropdown Field"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("|")]),t._v("t"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("exampleCategoryDropdownField"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    options"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" categories"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("}}")])]),t._v("\n")])])]),s("div",{pre:!0},[s("p",[t._v("All Settings are available to you via the "),s("code",[t._v("settings")]),t._v(" variable. Be sure to test if they exist. See an example Settings Template with several common fields in the Sprout Reports "),s("code",[t._v("examples/templates")]),t._v(" folder.")])]),s("ul",[s("li",[t._v("Text")]),t._v(" "),s("li",[t._v("Textarea")]),t._v(" "),s("li",[t._v("Dropdown")]),t._v(" "),s("li",[t._v("Radio Buttons")]),t._v(" "),s("li",[t._v("Checkboxes")]),t._v(" "),s("li",[t._v("Lightswitch")]),t._v(" "),s("li",[t._v("DateTime (requires that you start the field name with \"datetime\", i.e. 'datetimeStartDate')")])]),t._v(" "),s("p",[t._v("Examples also include how to toggle the display of conditional fields and how to use DateTime fields which require some additional steps. Additional field types can be used, but some fields with advanced validation may require that you create a "),s("RouterLink",{attrs:{to:"/data-studio/custom-data-sources.html"}},[t._v("Custom Data Source")]),t._v(". The only field Twig Template Reports support with advanced validation requirements is the DateTime field.")],1),t._v(" "),s("h2",{attrs:{id:"using-settings-in-results"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#using-settings-in-results"}},[t._v("#")]),t._v(" Using Settings in Results")]),t._v(" "),s("p",[t._v("When a user runs a report, all Settings will be passed to the Results Template and can be used in your Settings Template Twig code to help query and display data how you wish:")]),t._v(" "),s("h3",{attrs:{id:"reports-reportname-results-html"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reports-reportname-results-html"}},[t._v("#")]),t._v(" reports/reportname/results.html")]),t._v(" "),s("p",[t._v("In this example we use our settings to retrieve a CategoryModel and then use that CategoryModel to retrieve all Trips that relate to that Category. We limit the results by the number provided by the user in the Limit setting.")]),t._v(" "),s("div",{staticClass:"language-twig extra-class"},[s("pre",{pre:!0,attrs:{class:"language-twig"}},[s("code",[s("span",{pre:!0,attrs:{class:"token twig language-twig"}},[s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token tag-name keyword"}},[t._v("set")]),t._v(" region "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" craft"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("categories"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("group"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("settings"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("region"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token twig language-twig"}},[s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token tag-name keyword"}},[t._v("set")]),t._v(" trips "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" craft"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("entries"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("section"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("trips"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("relatedTo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("region"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("limit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("settings"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("limit"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token twig language-twig"}},[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("{# Create a Header Row #}")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token twig language-twig"}},[s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token tag-name keyword"}},[t._v("do")]),t._v(" sprout"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("twigDataSet"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("addHeaderRow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("Region"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")]),t._v("Trip Name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("'")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token twig language-twig"}},[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("{# Loop through our trips and output the Region and Trip Name for each result #}")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token twig language-twig"}},[s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token tag-name keyword"}},[t._v("for")]),t._v(" trip "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("in")]),t._v(" trips "),s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token twig language-twig"}},[s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token tag-name keyword"}},[t._v("do")]),t._v(" sprout"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("twigDataSet"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("addRow"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        trip"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("relatedCategory"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("first"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" \n        trip"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token twig language-twig"}},[s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("{%")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token tag-name keyword"}},[t._v("endfor")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token delimiter punctuation"}},[t._v("%}")])]),t._v("\n")])])])])}),[],!1,null,null,null);a.default=n.exports}}]);